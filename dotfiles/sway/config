# Configure keyboard input

# Monitors
set $Mon1 eDP-1
set $Mon2 HDMI-A-1

# swaymsg -t get_outputs
output eDP-1 resolution 2880x18000@90Hz position 0,0 scale 2.0
# output HDMI-A-1 resolution 1920x1080 position 1920,0

# set $laptop eDP-1
# bindswitch lid:on output $laptop disable
# bindswitch lid:off output $laptop enable
# bindswitch --reload --locked lid:on output $laptop disable
# bindswitch --reload --locked lid:off output $laptop enable

# swaymsg -t get_inputs
input "*" {
  # xkb_layout "us,cn"
  # xkb_variant "colemak,,typewriter"
  xkb_options "ctrl:swapcaps"
  # repeat_rate 30
  # repeat_delay 300
}

input "type:touchpad" {
  tap enabled
  natural_scroll enabled
  # accel_profile "flat"      #default
  # pointer_accel 0.5 # set mouse sensitivity (between -1 and 1)
}

# Status bar
bar {
  swaybar_command waybar
}

# Wallpaper
output "*" bg ~/Pictures/Wallpaper/night_tower.jpg fill

# exec systemctl --user import-environment
# exec systemctl --user import-environment DISPLAY WAYLAND_DISPLAY SWAYSOCK
# exec autotiling
exec fcitx5 -rd
exec swaync
exec nm-applet --indicator
exec wlsunset -l 22 -L 114
exec wl-paste --watch cliphist store
# exec --no-starup-id /run/current-system/sw/lib/polkit-1/polkit-agent-helper-1
# exec ck-launch-session dbus-launch --sh-syntax --exit-with-session sway
# exec --no-startup-id systemctl --user import-environment XDG_SESSION_PATH WAYLAND_DISPLAY
# exec --no-startup-id /run/current-system/sw/libexec/xdg-desktop-portal -r
# exec --no-startup-id /run/current-system/sw/libexec/xdg-desktop-portal-wlr -r

exec swayidle -w \
  timeout 200 'brightnessctl -s s 10%' \
     resume 'brightnessctl -r' \
  timeout 270 'notify-send -u critical -t 30000 -i lock -- "LOCKING in 30s"' \
  timeout 300 'swaylock -f -c 000000' \
  timeout 360 'swaymsg "output * dpms off"' \
     resume 'swaymsg "output * dpms on" && brightnessctl -r' \
  before-sleep 'swaylock -f -c 000000'


# Daemons
# exec_always

### Variables
set $mod Mod4
set $left h
set $down j
set $up k
set $right l
set $term kitty
set $browser firefox

# Media keys
# bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +2% && $refresh_i3status
# bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -2% && $refresh_i3status
# bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle && $refresh_i3status

bindsym XF86AudioRaiseVolume exec pamixer -i 5
bindsym XF86AudioLowerVolume exec pamixer -d 5
bindsym XF86AudioMute exec pamixer -t
bindsym XF86AudioMicMute exec pamixer --source 63 -t

bindsym XF86MonBrightnessDown exec brightnessctl set 5%-
bindsym XF86MonBrightnessUp exec brightnessctl set +5%

bindsym XF86Search exec wofi

# Application Shortcuts
bindsym $mod+Return exec $term
bindsym $mod+w exec $browser
bindsym $mod+d exec $menu
bindsym $mod+e exec emacs
bindsym $mod+f exec nautilus
bindsym $mod+Escape exec wlogout
bindsym $mod+x exec wofi
bindsym $mod+v exec cliphist list | wofi --dmenu | cliphist decode | wl-copy

# Modify the size and position of windows with $mod + Mouse
floating_modifier $mod normal

bindsym $mod+Shift+q kill
bindsym $mod+q kill

bindsym $mod+Shift+r reload

bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

bindsym $mod+b workspace prev
bindsym $mod+n workspace next

bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

bindsym $mod+Ctrl+$left move workspace to output left
bindsym $mod+Ctrl+$down move workspace to output down
bindsym $mod+Ctrl+$up move workspace to output up
bindsym $mod+Ctrl+$right move workspace to output right

bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

bindsym alt+1 move container to workspace number 1
bindsym alt+2 move container to workspace number 2
bindsym alt+3 move container to workspace number 3
bindsym alt+4 move container to workspace number 4
bindsym alt+5 move container to workspace number 5
bindsym alt+6 move container to workspace number 6
bindsym alt+7 move container to workspace number 7
bindsym alt+8 move container to workspace number 8
bindsym alt+9 move container to workspace number 9
bindsym alt+0 move container to workspace number 10

bindsym $mod+c splith

bindsym $mod+f11 fullscreen

bindsym $mod+Shift+space floating toggle

bindsym $mod+space focus mode_toggle

bindsym $mod+g output eDP-1 disable 
bindsym $mod+y output eDP-1 enable

mode "resize" {
  bindsym $left resize shrink width 30px
  bindsym $down resize grow height 30px
  bindsym $up resize shrink height 30px
  bindsym $right resize grow width 30px

  bindsym Ctrl+c mode "default"
}
bindsym $mod+r mode "resize"


# Cosmetics
default_border pixel 2

gaps inner 4
gaps outer 4

# class               border    background   text        indicator   child_border
client.focused          #80a0ff     #303030     #c6c6c6     #80a0ff     #80a0ff
client.focused_inactive #80a0ff     #303030     #c6c6c6     #80a0ff     #80a0ff
client.unfocused        #80a0ff     #080808     #c6c6c6     #80a0ff     #303030
client.urgent           #80a0ff     #80a0ff     #080808     #80a0ff     #80a0ff
